<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Features - Rebuttr Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root {
            --primary: #4F46E5;
            --secondary: #10B981;
            --dark: #1F2937;
            --darker: #111827;
            --light: #F9FAFB;
            --muted: #6B7280;
            --border: #E5E7EB;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.7;
            color: var(--dark);
            background: var(--light);
        }
        header {
            background: white;
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--dark);
            text-decoration: none;
        }
        .logo img { width: 32px; }
        nav a {
            color: var(--muted);
            text-decoration: none;
            margin-left: 2rem;
            font-weight: 500;
        }
        nav a:hover { color: var(--primary); }
        .doc-layout {
            display: grid;
            grid-template-columns: 250px 1fr;
            max-width: 1200px;
            margin: 0 auto;
            min-height: calc(100vh - 65px);
        }
        .sidebar {
            background: white;
            border-right: 1px solid var(--border);
            padding: 2rem 1.5rem;
            position: sticky;
            top: 65px;
            height: calc(100vh - 65px);
            overflow-y: auto;
        }
        .sidebar h4 {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--muted);
            margin-bottom: 0.75rem;
            margin-top: 1.5rem;
        }
        .sidebar h4:first-child { margin-top: 0; }
        .sidebar a {
            display: block;
            padding: 0.5rem 0;
            color: var(--dark);
            text-decoration: none;
            font-size: 0.9rem;
        }
        .sidebar a:hover { color: var(--primary); }
        .sidebar a.active {
            color: var(--primary);
            font-weight: 600;
        }
        .content {
            padding: 3rem;
            max-width: 800px;
        }
        .content h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .content .subtitle {
            font-size: 1.25rem;
            color: var(--muted);
            margin-bottom: 2rem;
        }
        .content h2 {
            font-size: 1.5rem;
            margin: 2.5rem 0 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
        }
        .content h3 {
            font-size: 1.2rem;
            margin: 1.5rem 0 0.75rem;
        }
        .content p {
            margin-bottom: 1rem;
        }
        .content ul, .content ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        .content li { margin-bottom: 0.5rem; }
        .content code {
            background: #E5E7EB;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
        }
        .code-block {
            background: var(--darker);
            border-radius: 8px;
            margin: 1rem 0;
            overflow: hidden;
        }
        .code-header {
            background: #374151;
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            color: #9CA3AF;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .code-content {
            padding: 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: #E5E7EB;
            overflow-x: auto;
        }
        .code-content .comment { color: #6B7280; }
        .copy-btn {
            background: transparent;
            border: none;
            color: #9CA3AF;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
        }
        .copy-btn:hover { color: white; }
        .alert {
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }
        .alert-info {
            background: #EEF2FF;
            border-left: 4px solid var(--primary);
        }
        .alert-success {
            background: #ECFDF5;
            border-left: 4px solid var(--secondary);
        }
        .alert-warning {
            background: #FFFBEB;
            border-left: 4px solid #F59E0B;
        }
        .alert h5 {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .alert p { margin: 0; font-size: 0.95rem; }
        .feature-card {
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            background: white;
        }
        .feature-card h4 {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            color: var(--dark);
            font-size: 1.1rem;
        }
        .feature-card h4 .icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary), #7C3AED);
            color: white;
            border-radius: 10px;
        }
        .feature-card p {
            color: var(--muted);
            margin-bottom: 0;
        }
        .expert-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        .expert {
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            background: white;
            text-align: center;
        }
        .expert .avatar {
            width: 48px;
            height: 48px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 0.75rem;
            color: white;
            font-size: 1.25rem;
        }
        .expert h5 {
            margin-bottom: 0.25rem;
        }
        .expert p {
            font-size: 0.85rem;
            color: var(--muted);
            margin: 0;
        }
        footer {
            margin-top: 4rem;
            padding: 2rem;
            text-align: center;
            color: var(--muted);
            border-top: 1px solid var(--border);
        }
        footer a { color: var(--primary); text-decoration: none; }
        @media (max-width: 768px) {
            .doc-layout { grid-template-columns: 1fr; }
            .sidebar { display: none; }
            .content { padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <a href="../index.html" class="logo">
                <img src="../assets/logo.svg" alt="Rebuttr">
                Rebuttr Docs
            </a>
            <nav>
                <a href="../index.html">Home</a>
                <a href="../tutorial.html">Tutorial</a>
                <a href="https://github.com/genomewalker/rebuttr">GitHub</a>
            </nav>
        </div>
    </header>

    <div class="doc-layout">
        <aside class="sidebar">
            <h4>Getting Started</h4>
            <a href="installation.html">Installation</a>
            <a href="quickstart.html">Quick Start</a>
            <a href="../tutorial.html">Tutorial</a>

            <h4>User Guide</h4>
            <a href="importing.html">Importing Reviews</a>
            <a href="ai-features.html" class="active">AI Features</a>
            <a href="exporting.html">Exporting</a>
            <a href="multi-paper.html">Multi-Paper</a>

            <h4>Configuration</h4>
            <a href="configuration.html">Configuration</a>
            <a href="cli-reference.html">CLI Reference</a>
            <a href="skills.html">AI Skills</a>

            <h4>Reference</h4>
            <a href="../api/">API Reference</a>
            <a href="json-format.html">JSON Format</a>
            <a href="troubleshooting.html">Troubleshooting</a>
        </aside>

        <main class="content">
            <h1>AI Features</h1>
            <p class="subtitle">Leverage AI-powered expert panels and intelligent response generation to craft professional rebuttals.</p>

            <div class="alert alert-info">
                <h5><i class="fas fa-key"></i> API Key Required</h5>
                <p>AI features require a configured OpenCode installation. See <a href="installation.html">Installation</a> for setup instructions.</p>
            </div>

            <h2>Overview</h2>
            <p>Rebuttr uses a multi-agent AI system to help you craft thoughtful, comprehensive responses to reviewer comments. The system simulates an expert panel discussion where different perspectives are considered before generating a final response.</p>

            <div class="feature-card">
                <h4>
                    <span class="icon"><i class="fas fa-users"></i></span>
                    Expert Panel System
                </h4>
                <p>Multiple AI experts with different specializations analyze each comment, providing diverse perspectives and ensuring thorough coverage.</p>
            </div>

            <div class="feature-card">
                <h4>
                    <span class="icon"><i class="fas fa-magic"></i></span>
                    Response Generation
                </h4>
                <p>AI synthesizes expert feedback into professional, well-structured responses that directly address reviewer concerns.</p>
            </div>

            <div class="feature-card">
                <h4>
                    <span class="icon"><i class="fas fa-lightbulb"></i></span>
                    Potential Solutions
                </h4>
                <p>Get actionable suggestions for addressing each comment, presented as a checklist you can work through.</p>
            </div>

            <h2>Expert Panel</h2>
            <p>When you request AI assistance, Rebuttr assembles a virtual panel of experts to analyze the reviewer comment:</p>

            <div class="expert-panel">
                <div class="expert">
                    <div class="avatar"><i class="fas fa-microscope"></i></div>
                    <h5>Domain Expert</h5>
                    <p>Analyzes scientific accuracy and methodology</p>
                </div>
                <div class="expert">
                    <div class="avatar"><i class="fas fa-edit"></i></div>
                    <h5>Writing Specialist</h5>
                    <p>Focuses on clarity and communication</p>
                </div>
                <div class="expert">
                    <div class="avatar"><i class="fas fa-balance-scale"></i></div>
                    <h5>Reviewer Perspective</h5>
                    <p>Considers what reviewers expect to see</p>
                </div>
                <div class="expert">
                    <div class="avatar"><i class="fas fa-chess"></i></div>
                    <h5>Strategist</h5>
                    <p>Advises on diplomatic response approaches</p>
                </div>
            </div>

            <p>Each expert provides their analysis, which is then synthesized into a coherent response recommendation.</p>

            <h2>Using Response Generation</h2>

            <h3>Step 1: Select a Comment</h3>
            <p>Click on any reviewer comment to expand it and see the response options.</p>

            <h3>Step 2: Generate Response</h3>
            <p>Click the <strong>"Generate Response"</strong> button. The AI will:</p>
            <ol>
                <li>Analyze the comment context and severity</li>
                <li>Consult the expert panel</li>
                <li>Generate a draft response</li>
                <li>Suggest potential solutions</li>
            </ol>

            <h3>Step 3: Review and Edit</h3>
            <p>The generated response appears in the editor. You can:</p>
            <ul>
                <li>Edit the text directly</li>
                <li>Regenerate with different parameters</li>
                <li>Use the suggested solutions as a checklist</li>
                <li>Add references to manuscript changes</li>
            </ul>

            <h3>Step 4: Accept or Refine</h3>
            <p>Once satisfied, click <strong>"Accept"</strong> to save the response. You can always edit it later.</p>

            <div class="code-block">
                <div class="code-header">
                    <span>Example Generated Response</span>
                </div>
                <div class="code-content">
<span class="comment"># Reviewer Comment:</span>
"The sample size appears small for the conclusions drawn."

<span class="comment"># AI-Generated Response:</span>
We thank the reviewer for this important observation. We have
addressed this concern in several ways:

1. We have added a power analysis to the Methods section
   (Lines 156-162) demonstrating that our sample size provides
   80% power to detect the reported effect sizes.

2. We have included additional sensitivity analyses in
   Supplementary Table S3 to show the robustness of our
   findings.

3. We have tempered our conclusions in the Discussion section
   (Lines 298-305) to better reflect the exploratory nature
   of some findings.
                </div>
            </div>

            <h2>Potential Solutions</h2>
            <p>For each comment, the AI also generates actionable solutions presented as checkable items:</p>

            <ul>
                <li>Add power analysis to Methods</li>
                <li>Include sensitivity analyses</li>
                <li>Revise conclusion language</li>
                <li>Add limitation discussion</li>
            </ul>

            <p>Check items off as you complete them to track your revision progress.</p>

            <h2>Response Tone Options</h2>
            <p>Adjust the tone of generated responses:</p>

            <table style="width:100%; border-collapse:collapse; margin:1rem 0;">
                <tr style="border:1px solid var(--border);">
                    <th style="padding:0.75rem; background:#F3F4F6; text-align:left;">Tone</th>
                    <th style="padding:0.75rem; background:#F3F4F6; text-align:left;">Description</th>
                </tr>
                <tr style="border:1px solid var(--border);">
                    <td style="padding:0.75rem;"><strong>Professional</strong></td>
                    <td style="padding:0.75rem;">Formal, academic tone (default)</td>
                </tr>
                <tr style="border:1px solid var(--border);">
                    <td style="padding:0.75rem;"><strong>Diplomatic</strong></td>
                    <td style="padding:0.75rem;">Extra careful language for sensitive comments</td>
                </tr>
                <tr style="border:1px solid var(--border);">
                    <td style="padding:0.75rem;"><strong>Direct</strong></td>
                    <td style="padding:0.75rem;">Concise, straightforward responses</td>
                </tr>
                <tr style="border:1px solid var(--border);">
                    <td style="padding:0.75rem;"><strong>Grateful</strong></td>
                    <td style="padding:0.75rem;">Emphasizes appreciation for feedback</td>
                </tr>
            </table>

            <h2>Batch Generation</h2>
            <p>Generate responses for multiple comments at once:</p>

            <div class="code-block">
                <div class="code-header">
                    <span>Terminal</span>
                    <button class="copy-btn"><i class="far fa-copy"></i></button>
                </div>
                <div class="code-content">
<span class="comment"># Generate responses for all unanswered comments</span>
rebuttr generate --paper "My Paper" --all

<span class="comment"># Generate for specific reviewer</span>
rebuttr generate --paper "My Paper" --reviewer 1

<span class="comment"># Generate for specific category</span>
rebuttr generate --paper "My Paper" --category major
                </div>
            </div>

            <div class="alert alert-warning">
                <h5><i class="fas fa-exclamation-triangle"></i> Always Review AI Output</h5>
                <p>AI-generated responses should always be reviewed and edited. They are starting points, not final answers. Ensure accuracy and add specific details about your actual manuscript changes.</p>
            </div>

            <h2>Customizing AI Behavior</h2>
            <p>Configure AI behavior in settings or via CLI:</p>

            <div class="code-block">
                <div class="code-header">
                    <span>~/.config/rebuttr/config.json</span>
                    <button class="copy-btn"><i class="far fa-copy"></i></button>
                </div>
                <div class="code-content">
{
  "ai": {
    "model": "gpt-4",
    "temperature": 0.7,
    "expertPanelSize": 4,
    "defaultTone": "professional",
    "includeLineReferences": true
  }
}
                </div>
            </div>

            <p>See <a href="skills.html">AI Skills</a> for advanced customization of expert behaviors.</p>

            <h2>Next Steps</h2>
            <ul>
                <li><a href="skills.html">AI Skills</a> - Customize expert panel behavior</li>
                <li><a href="exporting.html">Exporting</a> - Generate your rebuttal document</li>
                <li><a href="configuration.html">Configuration</a> - All configuration options</li>
            </ul>
        </main>
    </div>

    <footer>
        <p>
            <a href="index.html">Documentation</a> |
            <a href="https://github.com/genomewalker/rebuttr">GitHub</a> |
            <a href="troubleshooting.html">Troubleshooting</a>
        </p>
    </footer>

    <script>
        // Copy buttons
        document.querySelectorAll('.copy-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const code = btn.closest('.code-block').querySelector('.code-content').textContent;
                navigator.clipboard.writeText(code.trim());
                btn.innerHTML = '<i class="fas fa-check"></i>';
                setTimeout(() => btn.innerHTML = '<i class="far fa-copy"></i>', 2000);
            });
        });
    </script>
</body>
</html>
